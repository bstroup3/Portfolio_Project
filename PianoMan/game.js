var notePlayed;
var cheatCode = [];
var times = 0;
var ChordsToPlay = [];

var showKeys = false;
var noteList = ["C3", "Db3", "D3", "Eb3", "E3", "F3", "Gb3", "G3", "Ab3", "A3", "Bb3", "B3", "C4", "Db4", "D4", "Eb4", "E4", "F4", "Gb4", "G4", "Ab4", "A4", "Bb4", "B4", "C5", "Db5", "D5", "Eb5", "E5", "F5", "Gb5", "G5", "Ab5", "A5", "Bb5", "B5", "C6"];
var keyList = ["q", "2", "w", "3", "e", "r", "5", "t", "6", "y", "7", "u", "i", "9", "o", "0", "p", "z", "s", "x", "d", "c", "f", "v", "b", "h", "n", "j", "m", ",", "l", ".", ";", "/", "'", "]", "\\"];
var keyDown = [];

var minor = false;
var major = false;
var gameRunning = false;

for(var i = 0; i<noteList.length; i++) {
    keyDown.push(false);
    var par = document.createElement("P"); //creating p div
    par.setAttribute("id", "name" + noteList[i]);
    par.setAttribute("style", "padding-top: 330%; padding-left: 32%; padding-right: 32%;");
    //var text = document.createTextNode(noteList[i]);
    //par.appendChild(text);
    document.getElementById(noteList[i]).appendChild(par);
    var canv = document.createElement('CANVAS');
    canv.setAttribute("id", "canvas" + noteList[i]);
    canv.style.height = "100vh";
    canv.style.width = noteList[i].length == 2 ? "50px" : "30px";
    canv.style.top = "0px";
    canv.style.position = "absolute";
    canv.style.zIndex = "-2";
    canv.style.pointerEvents = "none"
    document.getElementById(noteList[i]).appendChild(canv);
}

window.addEventListener("keydown", function (event) {
  if (event.defaultPrevented) {
    return; // Do nothing if the event was already processed
  } else {
    switch (event.key) {
        case "ArrowLeft":
            document.getElementById('majorBox').click();
            checkMajor();
            break;
        case "ArrowRight":
            document.getElementById('minorBox').click();
            checkMinor();
            break;
        case "Shift":
            toggleShowKeys();
            break;
        case "Control":
          if(!gameRunning) {
            game.gameLoop();
            gameRunning = true;
          } else {
            game.stop();
            //gameRunning = false;
          }
            break;
        default:
            playNoteByKey(event.key);
            break;
      }
  }
}, true);

window.addEventListener("keyup", function (event) {
  if (event.defaultPrevented) {
    return; // Do nothing if the event was already processed
  }

  if(keyUp(event.key)) {
    // Cancel the default action to avoid it being handled twice
    event.preventDefault();
  }
}, true);

function playNoteByKey(key) {
  for(var i = 0; i<keyList.length; i++) {
    if(key == keyList[i] && !keyDown[i]) {
      play(noteList[i]);
      playMajor(i);
      playMinor(i);
      keyDown[i] = true; //prevents sound from playing multiple times from one press
      if(showKeys) { //highlights played key
        document.getElementById(noteList[i]).style.borderColor = "red";
        document.getElementById(noteList[i]).style.borderWidth = "5px";
      }
      return true;
    }
  }
  return false;
}

function keyUp(key) {
  for(var i = 0; i<keyList.length; i++) {
    if(key == keyList[i]) {
      keyDown[i] = false;
      document.getElementById(noteList[i]).style.borderColor = "unset";
      document.getElementById(noteList[i]).style.borderWidth = "1px";
      return true;
    }
  }
  return false;
}

function toggleShowKeys() {
  for(var i = 0; i<noteList.length; i++) {
    if(showKeys) {
      document.getElementById("p" + noteList[i]).remove();
      if(document.getElementById(noteList[i]).children[0]) {
        document.getElementById(noteList[i]).children[0].setAttribute("style", "padding-top: 330%; padding-left: 32%; padding-right: 32%;");
      }
    } else {
      var par = document.createElement("P"); //creating p div
      par.setAttribute("id", "p" + noteList[i]);
      if(noteList[i].length == 2) { //black or white key
        par.setAttribute("style", "padding-top: 0%; padding-left: 32%; padding-right: 32%;");
      } else {
        par.setAttribute("style", "color:white; padding-top: 0%; padding-left: 32%; padding-right: 32%;");
      }
      var text = document.createTextNode(keyList[i]);
      par.appendChild(text);
      if(document.getElementById(noteList[i]).children[0]) { //keeping other elements formating
        document.getElementById(noteList[i]).children[0].setAttribute("style", "padding-top: 259%; padding-left: 32%; padding-right: 32%;");
      }
      document.getElementById(noteList[i]).prepend(par); //adding to top
    }
  }
  showKeys = !showKeys;
}

function play(note){
    game.notePlayed(note);
    notePlayed = new Audio('./notes/'+note+'.mp3');
    notePlayed.currentTime = 0;
    notePlayed.play();
    document.getElementById(note+"note").style.display = "block";
    if(note.length==3)
  {
    document.getElementById(note[0]+note[2]+"note").style.display = "block";
  }
  setTimeout(() => {
    document.getElementById(note+"note").style.display = "none";
   if(note.length==3)
   {
     document.getElementById(note[0]+note[2]+"note").style.display = "none";
   }
  }, 800);
}

function endNote(note){
  notePlayed.pause();
  notePlayed.currentTime = 0;
  document.getElementById(note+"note").style.display = "none";
   if(note.length==3)
   {
     document.getElementById(note[0]+note[2]+"note").style.display = "none";
   }
}

function checkMinor(){
  if(document.getElementById('majorBox').checked){
    document.getElementById('majorBox').checked = false;
    major = false;
  }
    if(document.getElementById('minorBox').checked){
      minor = true;
    }
    else{
      minor = false;
    }
}

function checkMajor(){
  if(document.getElementById('minorBox').checked){
    document.getElementById('minorBox').checked = false;
    minor = false;
  }
  if(document.getElementById('majorBox').checked){
    major = true;
  }
  else{
    major = false;
  }
}

function playMajor(index){
  if(major){
    if(index >= 30 && index<33){
      play(noteList[index]);
      play(noteList[index+4]);
      play(noteList[(index+7)-12]);
    }
    if(index >= 33){
      play(noteList[index]);
      play(noteList[(index+4)-12]);
      play(noteList[(index+7)-12]);
    }
    else{
      play(noteList[index]);
      play(noteList[index+4]);
      play(noteList[index+7]);
    }
  }
}

function playMinor(index){
  if(minor){
    if(index >= 30 && index<33){
      play(noteList[index]);
      play(noteList[index+3]);
      play(noteList[(index+7)-12]);
    }
    if(index >= 33){
      play(noteList[index]);
      play(noteList[(index-12)+3]);
      play(noteList[(index-12)+7]);
    }
    else{
      play(noteList[index]);
      play(noteList[index+3]);
      play(noteList[index+7]);
    }
  }
}

function openNav() {
  document.getElementById("sidebar").style.width = "200px";
}

function closeNav() {
  document.getElementById("sidebar").style.width = "0";
}

function CheatCodeCheck(){
  if(times != 4){
    return;
  }
  var check = ['E5', 'E5', 'E5', 'E4','Eb5','Eb5','Eb5','Eb4','Db5','Db5','Db5','Db4','A4','A4','Ab4','E5'];
  for(var i = 0; i < check.length; i++){
    if(check[i] != cheatCode[i]){
      cheatCode = [];
      times = 0;
      return;
    }
  }
  var runaway = new Audio('./notes/runaway.mp3');
  setTimeout(() => { runaway.play(); }, 750);
  runaway.currentTime = 0;
  times = 0;
}

function resetcheat(){
  times = 0;
  cheatCode = [];
}

function hideNotes(){
  for(var i=0; i<document.getElementById("notes").children.length; i++)
  {
    document.getElementById("notes").children[i].style.display = "none";
  }
}

class Game {
    constructor() {
        this.gameChords = [];
    }

    notePlayed(note) {
        let played = this.find(note, 1500);
        if(played) {
            played.fadeOut();
        }
    }

    gameLoop() {
      this.initGameChords();
        for(let i = 0; i < this.gameChords.length; i++) {
            this.gameChords[i].drawChordToPlay();
        }
    }

    stop() {
      for(let i = 0; i < this.gameChords.length; i++) {
        this.gameChords[i].delete();
      }
    }

    find(note, time) {
        return this.gameChords.filter(ele => ele.note == note && Math.abs((this.startTime + ele.delay) - Date.now()) < time).sort((a, b) => a.delay - b.delay)[0];
    }

    initGameChords() {
      this.sleep = 90;
      this.score = 0;
      this.startTime = Date.now();
        let str = getChords();
        let i = -1;
        let delay = 1000;
        while(i < str.length) {
          if(i+31 < str.length) {
            if(str.charAt(i+30) == '\n' || i == -1) {
              let tmpInt = Math.min(Math.max(3, parseInt(str.charAt(i+1))), 5);
              for(let j = 3; j<29; j++) {
                let tmpStr = "";
                let tmpChr = str.charAt(i+j);
                if(tmpChr != '-') {
                  tmpStr += tmpChr.toUpperCase();
                  if(tmpChr == tmpChr.toUpperCase() && tmpChr.toUpperCase() != 'F' && tmpChr.toUpperCase() != 'C') {
                    tmpStr += "b";
                  }
                  tmpStr += tmpInt;
                  this.gameChords.push(new GameChord(tmpStr, (j * this.sleep) + delay, this));
                }
              }
              i += 30;
            } else {
              if(str.charAt(i+1) == "\n") {
                delay += this.sleep * 26;
              }
              i++;
            }
          } else {
            break;
          }
        }
        this.gameChords.sort((a, b) => a.delay - b.delay);
      }
}

class GameChord {
    constructor(note, delay, game) {
        this.game = game;
        this.note = note;
        this.delay = delay;
        this.position = -20;
        this.drawIDs = [];
    }

    drawChordToPlay() {
        let ctx = document.getElementById("canvas" + this.note).getContext("2d");
        for(let i = 0; i<90; i++) {
            this.drawIDs.push(setTimeout(() => {
                ctx.globalAlpha = 1;
                ctx.fillStyle = "BLACK";
                ctx.clearRect(25, ((i - 1)*2) - 11, 250, 12);
                ctx.fillRect(25, (i*2) - 10, 250, 10);
                this.position = (i*2) - 11;
            }, (i*20) + this.delay));
        }
        setTimeout(() => {
            this.playNote(this.note);
        }, this.delay + 800);
    }

    delete() {
        for(let i = 0; i<this.drawIDs.length; i++) {
            clearTimeout(this.drawIDs[i]);
        }
        document.getElementById("canvas" + this.note).getContext("2d").clearRect(25, this.position, 250, 12);;
        this.game.gameChords.splice(this.game.gameChords.indexOf(this), 1);
    }

    fadeOut() {
        let ctx = document.getElementById("canvas" + this.note).getContext("2d");
        for(let i = 0; i<this.drawIDs.length; i++) {
            clearTimeout(this.drawIDs[i]);
        }
        for(let i = 0; i<100; i++) {
            this.drawIDs.push(setTimeout(() => {
                ctx.fillStyle = "RED";
                ctx.globalAlpha = 1 - (i/10);
                ctx.clearRect(25, this.position, 250, 12);
                ctx.fillRect(25, this.position + 1, 250, 10);
            }, (i*10)));
        }
        setTimeout(() => {
            this.delete();
        }, (250));
    }

    playNote(note) {
        this.fadeOut();
        notePlayed = new Audio('./notes/'+note+'.mp3');
        notePlayed.currentTime = 0;
        notePlayed.play();
        document.getElementById(note+"note").style.display = "block";
        document.getElementById(note).style.borderColor = "red";
        document.getElementById(note).style.borderWidth = "5px";
        if(note.length==3)
      {
        document.getElementById(note[0]+note[2]+"note").style.display = "block";
      }
      setTimeout(() => {
        document.getElementById(note).style.borderColor = "unset";
        document.getElementById(note).style.borderWidth = "1px";
        document.getElementById(note+"note").style.display = "none";
       if(note.length==3)
       {
         document.getElementById(note[0]+note[2]+"note").style.display = "none";
       }
      }, 250);
    }
}

function getChords() {
  return ('5|------g-F-f-e-D-d-C-c-----|\n'+
  '4|c-------------------------|\n'+
  '4|----Ga--------------------|\n'+
  '3|------------------------b-|\n'+
  '3|f-----------f-----------f-|\n'+
  '3|a-----------a-----------G-|\n'+
  '\n'+
  '5|----c--c------------------|\n'+
  '4|----------------------c---|\n'+
  '4|--Ab-Ab-b---a-g-e-g-------|\n'+
  '3|----------f-----------c---|\n'+
  '3|----------G---------------|\n'+
  '\n'+
  '4|e---e-------d-----------c-|\n'+
  '4|g---g-------g-----------f-|\n'+
  '3|--------b-------b---a-----|\n'+
  '2|--------b-----------a-----|\n'+
  '\n'+
  '4|--c---c---c---c-------c---|\n'+
  '4|--f---e---d-----------e---|\n'+
  '3|------g-----------f-------|\n'+
  '2|------g-----------f-------|\n'+
  '\n'+
  '4|c-------c-----------c-----|\n'+
  '4|e-------e-----------d-----|\n'+
  '3|----g-----------F---------|\n'+
  '2|----e-----------d---------|\n'+
  '\n'+
  '4|--------------c-----------|\n'+
  '4|------d-----------e---c---|\n'+
  '3|------b-------------------|\n'+
  '3|--g-----------c-------c---|\n'+
  '2|--g-----------------------|\n'+
  '\n'+
  '4|----d---d-------c---c---c-|\n'+
  '4|----g---g-------f---f---e-|\n'+
  '3|------------------------g-|\n'+
  '2|b-----------a-------------|\n'+
  '\n'+
  '4|--c---c-------c---c-------|\n'+
  '4|--d-----------f---f-------|\n'+
  '3|----------f-----------g---|\n'+
  '3|----------a---------------|\n'+
  '\n'+
  '5|------------------c-------|\n'+
  '4|c-------c---c-e-g---c---c-|\n'+
  '4|f-------e-----------f-----|\n'+
  '3|----g---c-----------c-----|\n'+
  '3|--------g-----------a-----|\n'+
  '\n'+
  '5|--c-----------c---c---c---|\n'+
  '4|f---c-c---c-g---c-f---e---|\n'+
  '4|------g-------------------|\n'+
  '3|------c-----------a---g---|\n'+
  '3|------b-------------------|\n'+
  '\n'+
  '5|c-------------c---------c-|\n'+
  '4|d---c---c-e-g---c---c-f---|\n'+
  '4|----e-----------f---------|\n'+
  '3|f---c-----------c---------|\n'+
  '3|----g-----------a---------|\n'+
  '\n'+
  '5|----------c---c---c-------|\n'+
  '4|c-c---c-g---c-f---e---g---|\n'+
  '4|--g-----------------------|\n'+
  '3|--c-----------a---g---f---|\n'+
  '3|--b-----------------------|\n'+
  '\n'+
  '4|c-------------------------|\n'+
  '4|g-------g---g---f-----e-f-|\n'+
  '3|c-----------c-----------c-|\n'+
  '3|------------b-----------a-|\n'+
  '\n'+
  '4|e-c-----------------------|\n'+
  '3|----------c-----------c---|\n'+
  '3|----------g-----------f---|\n'+
  '\n'+
  '4|--c-c-c-c-c-----d-d-d-----|\n'+
  '3|--------c-----------------|\n'+
  '3|--------e-----------------|\n'+
  '2|--------------------d---F-|\n'+
  '\n'+
  '5|------d-------------------|\n'+
  '4|--------b-g---g-g-e---e---|\n'+
  '4|------------------g---g---|\n'+
  '3|--d-----------g---c-------|\n'+
  '3|------------------g-------|\n'+
  '2|------g-------------------|\n'+
  '\n'+
  '4|----e-------f-e-f-e-c-----|\n'+
  '3|----g-----------e---------|\n'+
  '2|----b-----------a---------|\n'+
  '\n'+
  '4|----------------------c-f-|\n'+
  '3|----------a-a-a-----------|\n'+
  '3|--e-----------c-----------|\n'+
  '2|--g-----------f-----------|\n'+
  '\n'+
  '4|f---e---c---c-------------|\n'+
  '3|----g-------c-----------c-|\n'+
  '3|------------g-------------|\n'+
  '2|g-------------------------|\n'+
  '\n'+
  '4|--c---c-------c---c-------|\n'+
  '4|--e---e-------e---e-------|\n'+
  '3|----------c---------------|\n'+
  '2|----------------------b---|\n'+
  '\n'+
  '4|d---d-------c---c---e---d-|\n'+
  '4|g---g-------f---f---------|\n'+
  '2|--------a-----------g-----|\n'+
  '\n'+
  '4|--c-------c---c-------c---|\n'+
  '4|----------f---f-------f---|\n'+
  '2|------f-----------g-------|\n'+
  '\n'+
  '5|----------------e---------|\n'+
  '5|------------c-e-c-------c-|\n'+
  '4|----e---e-g---------e-g---|\n'+
  '4|----g---------------------|\n'+
  '3|----c-----------c---------|\n'+
  '\n'+
  '6|------------c-------------|\n'+
  '5|--f-----c-f-----------g-g-|\n'+
  '4|g-----a-------------------|\n'+
  '3|--c-----------a---g---f---|\n'+
  '\n'+
  '5|g---g---g---g---f---e---f-|\n'+
  '3|c-----------g-----------e-|\n'+
  '3|g-------------------------|\n'+
  '2|------------b-----------a-|\n'+
  '\n'+
  '5|e-c---------------c---c---|\n'+
  '3|----------e-----------c---|\n'+
  '2|----------g-----------f---|\n'+
  '\n'+
  '5|c---c---c-------d-d-d-----|\n'+
  '3|--------c-----------------|\n'+
  '2|--------e-----------d---F-|\n'+
  '\n'+
  '5|------------------g-------|\n'+
  '5|------d-------e-f-e-----g-|\n'+
  '4|--------b-g---------------|\n'+
  '3|--d-----------g---c-------|\n'+
  '3|------------------g-------|\n'+
  '2|------g-------------------|\n'+
  '\n'+
  '5|----g---------------------|\n'+
  '5|g---e---f---e---f-e-e---e-|\n'+
  '3|----g-----------e---------|\n'+
  '2|----b-----------a---------|\n'+
  '\n'+
  '5|----------c---c---c---e---|\n'+
  '3|--e-----------c-----------|\n'+
  '2|--g-----------f-----------|\n'+
  '\n'+
  '5|f-----e-c---c-------------|\n'+
  '4|------------------------c-|\n'+
  '4|------------------------e-|\n'+
  '4|------------------------g-|\n'+
  '3|d-----------c-------------|\n'+
  '3|------------g-------------|\n'+
  '2|g-------------------------|\n'+
  '\n'+
  '4|----------c-----------c---|\n'+
  '4|--c---d---f-------a---a---|\n'+
  '4|--D-------a---------------|\n'+
  '3|------b-------------------|\n'+
  '3|----------a-----------g---|\n'+
  '\n'+
  '5|------c-------------------|\n'+
  '4|--------c-----------c-----|\n'+
  '4|----b---b---a-------------|\n'+
  '3|--------F---------------a-|\n'+
  '\n'+
  '4|------c-----------c-------|\n'+
  '4|--------------a---a-------|\n'+
  '3|--b---a-----------g-------|\n'+
  '\n'+
  '5|--c-----------------------|\n'+
  '4|----c---------------------|\n'+
  '4|b---b---b---------------a-|\n'+
  '3|----F-----------d---e---F-|\n'+
  '\n'+
  '5|----------d---d---d---d---|\n'+
  '4|--g---b-------b---b---b---|\n'+
  '3|--g-----------f-----------|\n'+
  '\n'+
  '5|e---e---e---f---f---f---g-|\n'+
  '5|c---c---c---d---d---d---e-|\n'+
  '3|e-----------d-----------c-|\n'+
  '3|------------------------g-|\n'+
  '\n'+
  '5|--g-----g-g---------------|\n'+
  '5|--e-----e-e-------f-e-f-e-|\n'+
  '3|----------g-----------e---|\n'+
  '2|----------b-----------a---|\n'+
  '\n'+
  '5|c-----------------------c-|\n'+
  '4|--------------------a-----|\n'+
  '3|--------e-----------c-----|\n'+
  '2|--------g-----------f-----|\n'+
  '\n'+
  '5|----c-c-------d---d-------|\n'+
  '4|------g-----------a-------|\n'+
  '3|------c-------------------|\n'+
  '2|------e-----------d---F---|\n'+
  '\n'+
  '5|----------------g---g---g-|\n'+
  '5|----d-------f---e---e---e-|\n'+
  '4|------b-g-----------------|\n'+
  '3|d---------------c---------|\n'+
  '3|----------------g---------|\n'+
  '2|----b---------------------|\n'+
  '2|----g---------------------|\n'+
  '\n'+
  '5|--g-----------------------|\n'+
  '5|--e---f-----e-f-e-c-------|\n'+
  '3|--g-----------e-----------|\n'+
  '2|--b-----------a-----------|\n'+
  '\n'+
  '5|----------------c---c---f-|\n'+
  '4|----------a-a-------------|\n'+
  '3|d-----------c-----------d-|\n'+
  '2|g-----------f-----------g-|\n'+
  '\n'+
  '5|e-c-------c---------------|\n'+
  '4|----------g---------------|\n'+
  '3|----------c-----------c---|\n'+
  '3|----------g---------------|\n'+
  '\n'+
  '4|c---c-------c---c-------d-|\n'+
  '4|e---e-------e---e-------g-|\n'+
  '3|--------c-----------------|\n'+
  '2|--------------------b-----|\n'+
  '\n'+
  '4|--d-------c---c---e---d---|\n'+
  '4|--g-------f---f-----------|\n'+
  '2|------a-----------g-------|\n'+
  '\n'+
  '4|c-------c---c-------c-----|\n'+
  '4|--------f---f-------f-----|\n'+
  '2|----f-----------g---------|\n'+
  '\n'+
  '5|------------c---------c---|\n'+
  '4|--c---c-e-g---c---c-f---c-|\n'+
  '4|--e-----------f-----------|\n'+
  '3|--c-----------c-----------|\n'+
  '\n'+
  '5|--------c---c---c---c-----|\n'+
  '4|c---c-g---c-f---e---d---c-|\n'+
  '4|g-----------------------e-|\n'+
  '3|c-----------c---c---c---c-|\n'+
  '3|------------a---g---f-----|\n'+
  '\n'+
  '5|--------c---------c-------|\n'+
  '4|--c-e-g---c---c-f---c-c---|\n'+
  '4|----------f-----------g---|\n'+
  '3|----------c-----------c---|\n'+
  '\n'+
  '5|----c---------------------|\n'+
  '4|c-g---c-f---e---g---g---g-|\n'+
  '4|--------a---g-------------|\n'+
  '3|--------a---g---f---c-----|\n'+
  '3|--------------------g-----|\n'+
  '\n'+
  '4|--g---g-------f-e-f---e---|\n'+
  '3|------g-----------e-------|\n'+
  '2|------b-----------a-------|\n'+
  '\n'+
  '4|e---------------c---c---c-|\n'+
  '3|------------a-------------|\n'+
  '3|----e-----------c---------|\n'+
  '2|----g-----------f---------|\n'+
  '\n'+
  '4|--c-------d---d-----------|\n'+
  '3|--c-------------------d---|\n'+
  '2|--e-----------d---F-------|\n'+
  '\n'+
  '5|d-------------------------|\n'+
  '4|--b-g---e-f-g---g-g-g-----|\n'+
  '3|--------g---c-----------g-|\n'+
  '3|------------g-------------|\n'+
  '2|g-----------------------b-|\n'+
  '\n'+
  '4|------f-e-f---e---c---c---|\n'+
  '3|----------e-----------e---|\n'+
  '2|----------a-----------g---|\n'+
  '\n'+
  '4|----f-f-f---f---f---f---e-|\n'+
  '3|--------c-----------d-----|\n'+
  '2|--------f-----------g-----|\n'+
  '\n'+
  '4|--c---c-----------g---b---|\n'+
  '4|------e-------------------|\n'+
  '3|------c-----------g-------|\n'+
  '3|------g-------------------|\n'+
  '\n'+
  '5|----------------e---e---e-|\n'+
  '5|d---d---d---d---c---c---c-|\n'+
  '4|----b---b---b-------------|\n'+
  '3|----f-----------e---------|\n'+
  '\n'+
  '5|--f---f---f---------------|\n'+
  '5|--d---d---d---g---g---g---|\n'+
  '3|--d-----------c-----------|\n'+
  '3|--------------g-----------|\n'+
  '\n'+
  '5|g---f---e---f-e-c---------|\n'+
  '3|g-----------e-----------e-|\n'+
  '2|b-----------a-----------g-|\n'+
  '\n'+
  '5|--e---d---c-------c-c-c---|\n'+
  '3|----------c-----------c---|\n'+
  '2|----------f-----------e---|\n'+
  '\n'+
  '5|----d-d-d-----------d-----|\n'+
  '4|----------------------b-g-|\n'+
  '3|----------------d---------|\n'+
  '2|--------d---F-------g-----|\n'+
  '\n'+
  '5|--e-f-g---g-g-----g---f---|\n'+
  '3|--g---c-----------g-------|\n'+
  '3|------g-------------------|\n'+
  '2|------------------b-------|\n'+
  '\n'+
  '5|f-f-e---c-----------------|\n'+
  '3|----e-----------e---------|\n'+
  '2|----a-----------g---------|\n'+
  '\n'+
  '5|------c---f---f---e---c---|\n'+
  '4|a-a-----------------------|\n'+
  '3|--c-----------d-----------|\n'+
  '2|--f-----------g-----------|\n'+
  '\n'+
  '5|c-------c-----------------|\n'+
  '4|------------c-----------c-|\n'+
  '4|------------f-------a---a-|\n'+
  '4|------------a-------------|\n'+
  '3|c-----------a-----------g-|\n'+
  '3|g-------------------------|\n'+
  '\n'+
  '5|--------c-----------------|\n'+
  '4|----------c-----------c---|\n'+
  '4|------b---b---a-----------|\n'+
  '3|----------F-----------f---|\n'+
  '\n'+
  '4|--------c-----------c-----|\n'+
  '4|----------------a---a-----|\n'+
  '3|--------a-----------g-----|\n'+
  '\n'+
  '5|----c---------------------|\n'+
  '4|------c-------------------|\n'+
  '4|--b---b---b---------------|\n'+
  '3|------F-----------d---e---|\n'+
  '\n'+
  '4|a---d-----------d---d---d-|\n'+
  '4|----g-----------g---g---g-|\n'+
  '3|F---g-----------f---------|\n'+
  '3|----b---------------------|\n'+
  '\n'+
  '4|--c---c---c---g---g---g---|\n'+
  '4|--g---g---g---------------|\n'+
  '3|--------------b---b---b---|\n'+
  '3|--e-----------d-----------|\n'+
  '\n'+
  '4|--------g---g-------g-g-g-|\n'+
  '3|d-----------c-----------g-|\n'+
  '3|------------g-------------|\n'+
  '2|g-----------------------b-|\n'+
  '\n'+
  '4|--f---e---f-e-e-----------|\n'+
  '3|----------e-----------e---|\n'+
  '2|----------a-----------g---|\n'+
  '\n'+
  '4|----c---c-c-c---c---------|\n'+
  '3|--------c-----------c-----|\n'+
  '2|--------f-----------e-----|\n'+
  '\n'+
  '5|------------------d-------|\n'+
  '4|--d-d-d-------------b-g---|\n'+
  '3|--------------d-----------|\n'+
  '2|------d---F-------g-------|\n'+
  '\n'+
  '4|g-g-g-----g-g---g---f---f-|\n'+
  '3|----c-----------g---------|\n'+
  '3|----g---------------------|\n'+
  '2|----------------b---------|\n'+
  '\n'+
  '4|--f-f-----f---f---e---e---|\n'+
  '3|--e-----------e-----------|\n'+
  '2|--a-----------g-----------|\n'+
  '\n'+
  '4|f-----f-f---f---e---c---c-|\n'+
  '3|c---------------g-------c-|\n'+
  '3|------------------------e-|\n'+
  '2|f-----------g-------------|\n'+
  '\n'+
  '4|--------------c---c-------|\n'+
  '4|--------------e---e-------|\n'+
  '3|----------c-----------c---|\n'+
  '\n'+
  '4|c---c-------d---d-------c-|\n'+
  '4|e---e-------g---g-------f-|\n'+
  '2|--------b-----------a-----|\n'+
  '\n'+
  '4|--c---e---d---c-------c---|\n'+
  '4|--f-------------------f---|\n'+
  '2|------g-----------f-------|\n'+
  '\n'+
  '4|c-------c-------c---c-e-g-|\n'+
  '4|f-------f-------e---------|\n'+
  '3|----------------c---------|\n'+
  '3|----------------g---------|\n'+
  '2|----g---------------------|\n'+
  '\n'+
  '5|c---------c-----------c---|\n'+
  '4|--c---c-f---f-c---c-g---g-|\n'+
  '4|--f-----------g-----------|\n'+
  '3|--c-----------c-----------|\n'+
  '3|--a-----------b-----------|\n'+
  '\n'+
  '5|--------g-g-g---g-g-----g-|\n'+
  '4|f-------------------------|\n'+
  '4|a-------------------------|\n'+
  '3|a---g---f---c-----------g-|\n'+
  '3|------------g-------------|\n'+
  '2|------------------------b-|\n'+
  '\n'+
  '5|--f-f-----f-e-e-----------|\n'+
  '3|----------e-----------e---|\n'+
  '2|----------a-----------g---|\n'+
  '\n'+
  '5|e---d---c---c---c---c-----|\n'+
  '3|--------c-----------c-----|\n'+
  '2|--------f-----------e-----|\n'+
  '\n'+
  '5|d-d---d-----------d-------|\n'+
  '4|--------------------b-g---|\n'+
  '3|--------------d-----------|\n'+
  '2|------d---F-------g-------|\n'+
  '\n'+
  '5|f-f---g---g-g---g---f---e-|\n'+
  '3|g---c-----------g---------|\n'+
  '3|----g---------------------|\n'+
  '2|----------------b---------|\n'+
  '\n'+
  '5|--f---e-e---------e---e---|\n'+
  '3|--e-----------e-----------|\n'+
  '2|--a-----------g-----------|\n'+
  '\n'+
  '5|f-f-----f---f---e---c---c-|\n'+
  '4|------------------------e-|\n'+
  '3|c-----------d-----------c-|\n'+
  '3|------------------------g-|\n'+
  '2|f-----------g-------------|\n'+
  '\n'+
  '5|------------------------c-|\n'+
  '4|----------c---------------|\n'+
  '4|----------g---D---d---a---|\n'+
  '3|------------------b---a---|\n'+
  '\n'+
  '6|--------c---------c-------|\n'+
  '5|d-D-e-g-----a-g-a---d-D-c-|\n'+
  '3|--------g-----------F-----|\n'+
  '\n'+
  '6|------c-----c-------------|\n'+
  '5|--c-D---a-g---A-e-D-c-a---|\n'+
  '4|a-------------------------|\n'+
  '3|------f-----------a-------|\n'+
  '\n'+
  '6|--------c-c-d-d-----------|\n'+
  '5|----a-a---------D-D-e-e-g-|\n'+
  '3|----g-----------F---------|\n'+
  '\n'+
  '6|------c-c-d-d-------------|\n'+
  '5|g-a-a---------a-g-e-D-d-c-|\n'+
  '3|--f-----------a-----------|\n'+
  '\n'+
  '5|----------a---F-d-----d---|\n'+
  '4|a-g-a-D-d---------a-b---b-|\n'+
  '3|g-----------F-----------d-|\n'+
  '\n'+
  '4|a-A-b-a-b-----d---d-------|\n'+
  '4|--------------g---g-------|\n'+
  '3|----------g-----------f---|\n'+
  '\n'+
  '4|d---d-------e---e-------f-|\n'+
  '4|g---g-------g---g-------g-|\n'+
  '3|--------e-----------d-----|\n'+
  '\n'+
  '5|------g---g-----g-g-------|\n'+
  '5|------e---e-----e-e-------|\n'+
  '4|--f-----------------------|\n'+
  '4|--g-----------------------|\n'+
  '3|------c-----------g-------|\n'+
  '3|------g-------------------|\n'+
  '2|------------------b-------|\n'+
  '\n'+
  '5|f-e-f-e-c-----------------|\n'+
  '3|----e-----------e---------|\n'+
  '2|----a-----------g---------|\n'+
  '\n'+
  '5|------c-----c-c-------d---|\n'+
  '4|--a-----------g-----------|\n'+
  '3|--c-----------c-----------|\n'+
  '2|--f-----------e-----------|\n'+
  '\n'+
  '5|------------------------g-|\n'+
  '5|d---------------e---f---e-|\n'+
  '4|a-------------------------|\n'+
  '3|--------d---------------c-|\n'+
  '3|------------------------g-|\n'+
  '2|------------b-------------|\n'+
  '2|d---F-------g-------------|\n'+
  '\n'+
  '5|--g---g---g---------------|\n'+
  '5|--e---e---e---f-----e-f-e-|\n'+
  '3|----------g-----------e---|\n'+
  '2|----------b-----------a---|\n'+
  '\n'+
  '5|c-----------------------c-|\n'+
  '4|a-------a---------a-a-----|\n'+
  '3|--------e-----------c-----|\n'+
  '2|--------g-----------f-----|\n'+
  '\n'+
  '5|--c---f-e-c-------c-------|\n'+
  '4|------------------g-------|\n'+
  '3|------d-----------c-------|\n'+
  '3|------------------g-------|\n'+
  '2|------g-------------------|\n'+
  '\n'+
  '4|--------c---c-------c---c-|\n'+
  '4|--------e---e-------e---e-|\n'+
  '3|----c-----------c---------|\n'+
  '\n'+
  '4|------d---d-------c---c---|\n'+
  '4|------g---g-------f---f---|\n'+
  '2|--b-----------a-----------|\n'+
  '\n'+
  '4|e---d---c-------c---c-----|\n'+
  '4|----------------f---f-----|\n'+
  '2|g-----------f-----------g-|\n'+
  '\n'+
  '5|--------------------c-----|\n'+
  '4|--c-------c---c-e-g---c---|\n'+
  '4|--f-------e-----------f---|\n'+
  '3|----------c-----------c---|\n'+
  '3|----------g-----------a---|\n'+
  '\n'+
  '5|----c-----------c---------|\n'+
  '4|c-f---f-c---c-g---g-f---e-|\n'+
  '4|--------g-----------a---g-|\n'+
  '3|--------c-----------a---g-|\n'+
  '3|--------b-----------------|\n'+
  '\n'+
  '5|----------------c---------|\n'+
  '4|--d---c---c-e-g---c---c-f-|\n'+
  '4|--f---e-----------f-------|\n'+
  '3|--f---c-----------c-------|\n'+
  '\n'+
  '5|c-----------c-------------|\n'+
  '4|--c-c---c-g---c-f-------g-|\n'+
  '4|----g-----------a---------|\n'+
  '3|----c-----------f---e---d-|\n'+
  '\n'+
  '4|g-g---g---g---g-------f-e-|\n'+
  '3|--c-----------g-----------|\n'+
  '3|--g-----------------------|\n'+
  '2|--------------b-----------|\n'+
  '\n'+
  '4|f-e-e---------------e-d-c-|\n'+
  '3|e-----------e-----------c-|\n'+
  '2|a-----------g-----------f-|\n'+
  '\n'+
  '4|--c---c---c---c---d---d---|\n'+
  '3|----------c---------------|\n'+
  '2|----------e-----------d---|\n'+
  '\n'+
  '5|--------d-----------------|\n'+
  '4|----------b-g---e-f-g---g-|\n'+
  '3|----d-----------g---c-----|\n'+
  '3|--------------------g-----|\n'+
  '2|F-------g-----------------|\n'+
  '\n'+
  '4|g-g-------f---e---f---e---|\n'+
  '3|------g-----------e-------|\n'+
  '2|------b-----------a-------|\n'+
  '\n'+
  '4|e---e-------e-e-f-------f-|\n'+
  '3|----e-----------c---------|\n'+
  '2|----g-----------f---------|\n'+
  '\n'+
  '4|f-f---c---c---c-----------|\n'+
  '3|------g-------c-----------|\n'+
  '3|--------------e-----------|\n'+
  '2|--g-----------------------|\n'+
  '\n'+
  '5|------------------------e-|\n'+
  '5|--------d---d---d---d---c-|\n'+
  '4|g---b-------b---b---b-----|\n'+
  '3|g-----------f-----------e-|\n'+
  '\n'+
  '5|--e---e---f---f---f-------|\n'+
  '5|--c---c---d---d---d-------|\n'+
  '3|----------d-----------c---|\n'+
  '3|----------------------g---|\n'+
  '\n'+
  '5|g---g---g-g-----f---g-----|\n'+
  '3|--------c-----------g-----|\n'+
  '3|--------g-----------------|\n'+
  '2|--------------------b-----|\n'+
  '\n'+
  '5|--g-f-f---e---e-------d---|\n'+
  '3|------e-----------e-------|\n'+
  '2|------a-----------g-------|\n'+
  '\n'+
  '5|c---c-c-c-------c-------d-|\n'+
  '3|----c-----------c---------|\n'+
  '2|----f-----------e---------|\n'+
  '\n'+
  '5|d-d---------------e---f---|\n'+
  '3|----------d-----------g---|\n'+
  '2|--d---F-------g-----------|\n'+
  '\n'+
  '5|g---g---g---g---f---f---f-|\n'+
  '3|c-----------g-----------e-|\n'+
  '3|g-------------------------|\n'+
  '2|------------b-----------a-|\n'+
  '\n'+
  '5|--e---e---e-------e-e-f---|\n'+
  '3|----------e-----------c---|\n'+
  '2|----------g-----------f---|\n'+
  '\n'+
  '5|f---f---f-----c-c---c-----|\n'+
  '3|--------d-----------c-----|\n'+
  '3|--------------------g-----|\n'+
  '2|--------g-----------------|\n'+
  '\n'+
  '5|----------c---------------|\n'+
  '4|------------------c-------|\n'+
  '4|--------------b---f-------|\n'+
  '4|------------------a-------|\n'+
  '3|------c-----------a-------|\n'+
  '\n'+
  '5|--------------c-----------|\n'+
  '4|----c-----------c---------|\n'+
  '4|a---a-------b---b---a-----|\n'+
  '3|----g-----------F---------|\n'+
  '\n'+
  '4|--c-----------c-----------|\n'+
  '4|----------------------a---|\n'+
  '3|--f-----------a-----------|\n'+
  '\n'+
  '5|----------c---------------|\n'+
  '4|c-----------c-------------|\n'+
  '4|a-------b---b---b---------|\n'+
  '3|g-----------F-----------d-|\n'+
  '\n'+
  '5|------------------d---d---|\n'+
  '4|------a---g---b-------b---|\n'+
  '3|--e---F---g-----------f---|\n'+
  '\n'+
  '5|--------e---e---e---f---f-|\n'+
  '5|d---d---c---c---c---d---d-|\n'+
  '4|b---b---------------------|\n'+
  '3|--------e-----------d-----|\n'+
  '\n'+
  '5|--f---g---g-----g-g-------|\n'+
  '5|--d---e---e-----e-e-------|\n'+
  '3|------c-----------g-------|\n'+
  '3|------g-------------------|\n'+
  '2|------------------b-------|\n'+
  '\n'+
  '5|f-e-f-e-c-----------------|\n'+
  '3|----e-----------e---------|\n'+
  '2|----a-----------g---------|\n'+
  '\n'+
  '5|------c-----c-c-------d---|\n'+
  '4|--a-----------g-----------|\n'+
  '3|--c-----------c-----------|\n'+
  '2|--f-----------e-----------|\n'+
  '\n'+
  '5|------------------------g-|\n'+
  '5|d---------------e---f---e-|\n'+
  '4|a-------------------------|\n'+
  '3|--------d---------------c-|\n'+
  '3|------------------------g-|\n'+
  '2|------------b-------------|\n'+
  '2|d---F-------g-------------|\n'+
  '\n'+
  '5|--g---g---g---------------|\n'+
  '5|--e---e---e---f-----e-f-e-|\n'+
  '3|----------g-----------e---|\n'+
  '2|----------b-----------a---|\n'+
  '\n'+
  '5|c-----------------------c-|\n'+
  '4|a-------a---------a-a-----|\n'+
  '3|--------e-----------c-----|\n'+
  '2|--------g-----------f-----|\n'+
  '\n'+
  '5|--c---f-e-c-------c-------|\n'+
  '4|------------------g-------|\n'+
  '3|------d-----------c-------|\n'+
  '3|------------------g-------|\n'+
  '2|------g-------------------|\n'+
  '\n'+
  '4|--------c---c-------c---c-|\n'+
  '4|--------e---e-------e---e-|\n'+
  '3|----c-----------c---------|\n'+
  '\n'+
  '4|------d---d-------c---c---|\n'+
  '4|------g---g-------f---f---|\n'+
  '2|--b-----------a-----------|\n'+
  '\n'+
  '4|e---d---c-------c---c-----|\n'+
  '4|----------------f---f-----|\n'+
  '2|g-----------f-----------g-|\n'+
  '\n'+
  '5|--------------------c-----|\n'+
  '4|--c-------c---c-e-g---c---|\n'+
  '4|--f-------e-----------f---|\n'+
  '3|----------c-----------c---|\n'+
  '\n'+
  '5|----c-------------c-c---c-|\n'+
  '4|c-f---f-c---c-e-g---f---e-|\n'+
  '4|--------g-----------------|\n'+
  '3|--------c-----------c---c-|\n'+
  '3|--------------------a---g-|\n'+
  '\n'+
  '5|--c-------------c---------|\n'+
  '4|--d---c---c-e-g---c---c-f-|\n'+
  '4|------e-----------f-------|\n'+
  '3|--c---c-----------c-------|\n'+
  '3|--f---g-----------a-------|\n'+
  '\n'+
  '5|c-------------c-----------|\n'+
  '4|--f-c---c-e-g---f---e---d-|\n'+
  '4|----g-----------a---g---f-|\n'+
  '3|----c-----------c---c---c-|\n'+
  '3|----b-----------a---g---f-|\n'+
  '\n'+
  '5|--------c-----------------|\n'+
  '4|--c---ce------------------|\n'+
  '4|--e----g------------------|\n'+
  '3|--g-----------------------|\n'+
  '3|--c-----------------------|\n'+
  '3|--e-----------------------|\n'+
  '\n');
}

var game = new Game;
//game.gameLoop();